<!DOCTYPE html>
<html>
	<head>
		<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
		<link rel="manifest" href="favicon/site.webmanifest">
		<link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
		<link rel="shortcut icon" href="favicon/favicon.ico">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-config" content="favicon/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">	
		<meta charset="UTF-8">
		<link rel="stylesheet" href='style.css'>
	</head>
	<body>
		<div id='Content'>
			<canvas id='ThreeD'></canvas>
			<div id='UILayer'></div>
		</div>
		<div id='NameEntry' class='popup'>
			<h4>Name Entry</h4>
			<p>It's for the score.</p>
			<input type='text' id='Name' maxlength=12 autocomplete="off" required/>
			<button id='SaveName'>Hit It!</button>
		</div>
		<div id='Objective' class='popup'>
			<h4>Secure The Disco Rollers!</h4>
			<p>Approach each disco roller in turn to save Discohampton.</p>
			<img src='instructions/objective.jpg'>
			<button id='GotIt'>Got It</button>
		</div>
		<div id='GameRank' class='Ranking faded'></div>
		<div id='GFXSelect'>
			<button id='GFXHigh'>High Graphics</button>
			<button id='GFXMedium'>Medium Graphics</button>
			<button id='GFXLow'>Low Graphics</button>
		</div>
		<div id='Pause' class='popup'>
			<h4>Game Paused</h4>
			<p>Press P to get your groove on</p>
		</div>
		<div id='Defeat' class='popup'>
			<h4>Disco Has Died</h4>
			<p>Nice try Jive Turkey!</p>
			<p>Despite the most stellar efforts of your pilots and the best shag waggons grooviness can make, Discohampton has fallen to an invasion of Intergalactic Ninja Space Ants.</p>
			<button onclick='window.location.reload()'>
				Play Again
			</button>
			<div class='Ranking'></div>
		</div>
		<div id='Victory' class='popup'>
			<h4>Disco Forever</h4>
			<p>Far out, that was the bomb!</p>
			<p>Your efforts were off the hook and Discohampton has been saved. Disco will live for ever and its all thanks to you!</p>
			<button onclick='window.location.reload()'>
				Play Again
			</button>			
			<div class='Ranking'></div>
		</div>
		<div id='HighScores' class='popup'>
			<h4>The Skinny Board</h4>
			<div class='flexit'>
				<button id='Today'>Week</button>
				<button id='AllTime'>All Time</button>
				<button id='CloseHighScore'>Close</button>
			</div>
			<h4 id='Showing' style='text-align:center;margin:0.5rem 0'></h4>
			<table style='width:100%'>
				<thead>
					<th>#</th>
					<th style='width: 12rem;text-align:left'>Dancer</th>
					<th style='width: 4rem'>Discos</th>
					<th style='width: 4rem'>Ants</th>
					<th style='width: 4rem'>Buildings</th>
					<th style='width: 8rem'>Time</th>
				</thead>
				<tbody id='HighScoreTable'></tbody>
			</table>
		</div>
		<div id='BrowserSupport'>
			<h1>Browser Support Issue</h1>
			<p>Your browser does not support the features required by this game.</p>
			<p>Try using Chrome.  Google are evil, but the 3D performance is actually very good.</p>
			<p>Firefox is a great browser - but it's 3D performance is terrible.  It can support this game but you have to fiddle with the internals of the browser; which is crazy.  Sort it out Mozilla!</p>
			<p>Safari is holding back the progress of the Human race, even if this game could run in Safari - I would still feel pitty for whatever species of creature that your are because your technological progress is being thwarted by such a terrible biece of software.</p>
			<b>Feature Missing: Canvas.TransferControlToOffscreen</b>
		</div>
		<div id='Splash'>
			<div id="vuWrapper">
				<canvas id='vumeter'></canvas>
			</div>
			<img src='intro/splash.png'>
			<div id='SplashUrl'></div>
			<progress id='SplashProgress' min=0 max=100></progress>
			<button id='StartGame'>Start Game</button>
			<button id='Controls'>Controls</button>
			<button id='HighScore'>High Scores</button>
				
			<div id='Help'>
				<div id='CloseGuide'>
					Close Guide
				</div>
				<div>
					<ul>
						<a href='#TurretControl'><li>Turret Control</li></a>
						<a href='#ViewAdjust'><li>View Adjustment (First Person, Third Person, Strategic View)</li></a>
						<a href='#MovementControl'><li>Movement Controls</li></a>
						<a href='#WeaponControls'><li>Weapon Controls</li></a>
					</ul>
					
					<fieldset id='TurretControl'>
						<legend>Turret Control</legend>
						<img src='instructions/help3.png'>
						<p>You can pan the view around by holding down the right mouse button and then dragging the mouse.  The mech will then turn its cockpit to face the direction that you are looking.</p>
					</fieldset>
					
					<fieldset id='ViewAdjust'>
						<legend>View Adjust</legend>
						<img src='instructions/help0b.png'>
						<p>You can zoom in to the cockpit, or move the view back to third person all the way out to a strategic overview by using the mouse wheel.</p>
						<img src='instructions/help0a.png'>
						<p>You gain control of additional mechs through the course of the game.</p>
						<div><b>Z</b> Select Mech: Funky</div>
						<div><b>X</b> Select Mech: Groover</div>
						<div><b>C</b> Select Mech: Radical</div>
						<div><b>V</b> Select Mech: Vibes</div>
						<p>You can take control of different mechs by selecting the pilot either by clicking the UI button for the mech, or by pressing the appropriate key.</p>
						<img src='instructions/help2a.png'>
						<img src='instructions/help2b.png'>
						<p>You can switch view by clicking the individual pilots button in the top left of the display.  Additionally, you can change to a split screen view by clicking your currently active mech pilots button, and you can return from split screen view by the same mechanism.</p>
					</fieldset>
					
					<fieldset id='MovementControl'>
						<legend>Movement Controls</legend>
						<img src='instructions/help1.png'>
						<div><b>W</b> Walk</div>
						<div><b>A</b> Turn left</div>
						<div><b>D</b> Turn Right</div>
						<p>Taking direct control of a mech cancels any movement orders given to the mech.  In split screen view the mech being controlled will be the mech whose viewscreen is under the mouse cursor.</p>
						<img src='instructions/help5.png'>
						<p>You can also gives mechs movement orders with the mouse by clicking with the left mouse button.</p>
						<p>Mechs will move to the location that you click on in the view.  If their view of the destination is blocked they may attempt to walk around such obstacles.</p>
					</fieldset>
						
					<fieldset id='WeaponControls'>
						<legend>Weapon Controls</legend>
						<img src='instructions/help4a.png'>
						<p>One fire button is not enough for a mech, so you have five.</p>
						<p>Each button corresponds to a weapon mount.</p>
						<p>Each weapon mount has different movement restrictions.  Your arm mounts (<b>Q</b>+<b>E</b>) provide the greatest vertical flexibility, can extend away from the mech, but can only point slightly inward.</p>
						<img src='instructions/help4b.png'>
						<p>Your shoulder (<b>1</b>+<b>3</b>) and top mounts (<b>2</b>) cannot aim downwards and have limited side to side movement, but can be aimed upwards.</p>
					</fieldset>
				</div>	
			</div>			
			
		</div>
		<script type='module' src='3d.js'></script>
		<script type='module' src='index.js'></script>
	</body>
</html>